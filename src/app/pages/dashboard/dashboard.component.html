<section class="grid grid-cols-12 md:px-20 pt-10">
  <section
    class="col-span-full md:col-span-7 p-10 border-b border-gray-300 md:border-b-0 md:border-r"
  >
    <app-pie-chart></app-pie-chart>
  </section>
  <section class="col-span-full md:col-span-5 p-10">
    <h2 class="text-xl mb-8">Calculate your Budget.</h2>
    <form
      class="flex flex-col mb-4"
      #budgetForm="ngForm"
      (ngSubmit)="addBudget(budgetForm)"
    >
      <label for="budget" class="ml-1 mb-1">Budget</label>
      <div class="flex">
        <input
          type="number"
          name="budget"
          class="input-primary w-1/3 mr-2"
          [(ngModel)]="budget"
          required
        />
        <button
          [class]="budgetForm.valid ? 'btn-primary' : 'btn-primary-disabled'"
          class="w-2/3"
          [disabled]="!budgetForm.valid"
          type="submit"
        >
          Submit
        </button>
      </div>
    </form>
    <form
      class="flex flex-col"
      #spendingForm="ngForm"
      (ngSubmit)="addSpendingReason(spendingForm)"
    >
      <div class="flex flex-col mb-4">
        <label for="spending-reason" class="ml-1 mb-1">Spending reason</label>
        <input
          type="text"
          name="spending-reason"
          class="input-primary w-full"
          [(ngModel)]="spendingReason"
          required
          autocomplete="off"
        />
      </div>
      <div class="flex flex-col mb-4">
        <label for="spending" class="ml-1 mb-1">Spend</label>
        <div class="flex">
          <input
            type="number"
            name="spending"
            class="input-primary w-1/3 mr-2"
            [(ngModel)]="spend"
            required
          />
          <button
            [class]="
              spendingForm.valid ? 'btn-primary' : 'btn-primary-disabled'
            "
            class="w-2/3"
            type="submit"
          >
            Submit
          </button>
        </div>
      </div>
    </form>
    <div class="table font-display w-full" *ngIf="spendings.length > 0">
      <div class="table-header-group">
        <div
          class="table-row font-semibold py-2 text-left border-b border-gray-300"
        >
          <div class="table-cell w-1/2 py-2 border-b border-gray-300">
            Spending reason
          </div>
          <div class="table-cell py-2 border-b border-gray-300">Spending</div>
          <div class="table-cell py-2 border-b border-gray-300"></div>
        </div>
      </div>
      <div class="table-row-group">
        <div
          *ngFor="let spending of spendings; let i = index"
          class="table-row"
        >
          <div class="table-cell py-2 border-b border-gray-300">
            {{ spending.name }}
          </div>
          <div class="table-cell py-2 border-b border-gray-300">
            {{ spending.value }}
          </div>
          <div
            class="table-cell py-2 border-b border-gray-300 text-red-700 cursor-pointer"
            (click)="removeSpending(i)"
          >
            Remove
          </div>
        </div>
      </div>
    </div>
  </section>
</section>
